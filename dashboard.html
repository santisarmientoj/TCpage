<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Academia</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h2>Tu Panel</h2>
    <button class="login-btn" id="logout">Cerrar sesi칩n</button>
  </header>

  <main>
    <h1>Bienvenido 游꿀</h1>
    <p>Aqu칤 puedes acceder a los contenidos de la Academia.</p>

    <!-- Contenido limitado -->
    <section>
      <h2>Contenido Gratuito</h2>
      <ul>
        <li><a href="#">Clase de prueba en video</a></li>
        <li><a href="#">Art칤culo introductorio</a></li>
      </ul>
    </section>

    <!-- Oferta de suscripci칩n -->
    <section>
      <h2>Suscr칤bete para acceder al contenido completo</h2>
      <p>Con la suscripci칩n Premium podr치s acceder a todas las clases, audios y PDFs.</p>
      <button class="subscribe-btn" id="subscribe"><h1>Suscribirme</h1></button>
    </section>
  </main>

  <!-- Firebase Auth -->
  <script type="module">
    import { auth } from "./firebase-config.js";
    import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    const logoutBtn = document.getElementById("logout");
    const subscribeBtn = document.getElementById("subscribe");

    // Proteger acceso al dashboard
    onAuthStateChanged(auth, (user) => {
      if (!user) {
        window.location.href = "login.html";
      }
    });

    // Logout
    logoutBtn.addEventListener("click", async () => {
      await signOut(auth);
      window.location.href = "login.html";
    });

    // Redirigir a Stripe Checkout
    subscribeBtn.addEventListener("click", () => {
      // 游녤 Aqu칤 va tu enlace de Stripe (modo prueba o real)
      window.location.href = "https://buy.stripe.com/test_9B63cu23s1mH0RyfWDfYY00";
    });
  </script>

</body>
</html>

